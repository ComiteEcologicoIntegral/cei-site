(this.webpackJsonpcei=this.webpackJsonpcei||[]).push([[9],{126:function(e,a,t){},152:function(e,a,t){"use strict";t.r(a);var n=t(33),c=t(0),r=(t(126),t(151)),s=t(154),l=t(120),i=t(134),o=t(109);var u=t(149),d=t(3),j=function(e){var a=e.value,t=e.onChange,r=Object(c.useState)([]),s=Object(n.a)(r,2),l=s[0],j=s[1];function b(e){return e.isAfter(new Date,"day")}function h(e){return function(e){return a.isSame(e,"day")}(e)?"selected":function(e){return e.isSame(new Date,"day")}(e)?"today":b(e)?"after":function(e){return e.isSame(a,"month")}(e)?"":"month"}function O(){return a.clone().subtract(1,"month")}function m(){return a.clone().endOf("month").add(1,"day")}function f(){return a.isSame(new Date,"month")}function v(){return a.isSame(new Date("01-01-2018"),"month")}return Object(c.useEffect)((function(){j(function(e){for(var a=e.clone().startOf("month").startOf("isoWeek"),t=e.clone().endOf("month").endOf("isoWeek").subtract(1,"day"),n=a.clone().subtract(2,"day"),c=[];n.isBefore(t,"day");)c.push(Array(7).fill(0).map((function(){return n.add(1,"day").clone()})));return c}(a))}),[a]),Object(d.jsxs)("div",{className:"calendar mt-5",children:[Object(d.jsx)("div",{className:"cal-header",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{sm:3,className:"previous",onClick:function(){return!v()&&t(O)},children:v()?null:String.fromCharCode(171)}),Object(d.jsxs)(o.a,{sm:6,className:"current",children:[a.format("MMM"),", ",a.format("YYYY")]}),Object(d.jsx)(o.a,{sm:3,className:"next",onClick:function(){return!f()&&t(m)},children:f()?null:String.fromCharCode(187)})]})}),Object(d.jsxs)("div",{className:"body",children:[Object(d.jsx)("div",{className:"day-names",children:["D","L","M","M","J","V","S"].map((function(e,a){return Object(d.jsx)("div",{className:"weekday",children:e},a)}))}),l.map((function(e,a){return Object(d.jsx)("div",{children:e.map((function(e,a){return Object(d.jsx)("div",{className:"day",onClick:function(){return!b(e)&&t(e)},children:Object(d.jsx)("div",{className:h(e),children:e.format("D")},Object(u.a)())})}))},a)}))]})]})},b=t(127),h=t(86),O=t(89),m=t(34),f=t.n(m);t(95);f.a.locale("es");var v={PM25:"\xb5g/m3",PM10:"\xb5g/m3",CO:"ppm",O3:"ppm",NO2:"ppm",SO2:"ppm"},x=[{value:"1",label:"enero"},{value:"2",label:"febrero"},{value:"3",label:"marzo"},{value:"4",label:"abril"},{value:"5",label:"mayo"},{value:"6",label:"junio"},{value:"7",label:"julio"},{value:"8",label:"agosto"},{value:"9",label:"septiembre"},{value:"10",label:"octubre"},{value:"11",label:"noviembre"},{value:"12",label:"diciembre"}],g=[{value:"2018",label:"2018"},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"}];a.default=function(e){var a=e.q,t=e.create,u=e.data,m=e.indi,p=e.setDesde,y=e.setHasta,N=e.downloadFile;function S(e){switch(Object(h.c)(m,e)){case 0:return"bueno";case 1:return"acept";case 2:return"mala";case 3:return"muymala";case 4:return"extmala";default:return"no-data"}}var C=Object(c.useState)(f()()),M=Object(n.a)(C,2),D=M[0],k=M[1];Object(c.useEffect)((function(){p(D),y(D)}),[]);var w=Object(c.useState)((new Date).getMonth()+1),Y=Object(n.a)(w,2),_=Y[0],P=Y[1],A=Object(c.useState)(g[g.length-1].value),E=Object(n.a)(A,2),K=E[0],T=E[1];Object(c.useEffect)((function(){p(D),y(D),(u||a)&&t(D,D)}),[D]),Object(c.useEffect)((function(){var e=new Date("".concat(_,"/").concat(D.clone().format("DD"),"/").concat(K));k(f()(e))}),[_,K]);var z=[],B=[],H=0,J=0;if(u&&0!==u.length){for(;J<12&&H<u.length;){for(var V="T"+J.toString().padStart(2,0)+":",W=[],q=H;H<u.length&&u[H].dia.includes(V);)W.push(Object(d.jsxs)("p",{children:[Object(d.jsx)(b.b,{className:S(u[H][m])}),u[H].zona,": ",u[H][m]?" ".concat(u[H][m]," ").concat(v[m]):" No hay registro"]})),H++;z.push(Object(d.jsx)(r.a,{id:u[q].registros_id,children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(s.a.Header,{children:Object(d.jsxs)(r.a.Toggle,{as:l.a,className:"hora",variant:"link",eventKey:u[q].registros_id,children:[Object(d.jsx)(b.a,{color:"lightgray"})," ",J.toString().padStart(2,0),":00"]})}),Object(d.jsx)(r.a.Collapse,{eventKey:u[q].registros_id,children:Object(d.jsx)(s.a.Body,{children:W})})]})},u[q].registros_id)),J++}for(;J<24&&H<u.length;){for(var F="T"+J.toString().padStart(2,0),I=[],L=H;H<u.length&&u[H].dia.includes(F);)I.push(Object(d.jsxs)("p",{children:[Object(d.jsx)(b.b,{className:S(u[H][m])})," ",u[H].zona,": ",u[H][m]?"".concat(u[H][m]," ").concat(v[m]):"No hay registro"]})),H++;B.push(Object(d.jsx)(r.a,{id:u[L].registros_id,children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(s.a.Header,{children:Object(d.jsxs)(r.a.Toggle,{as:l.a,className:"hora",variant:"link",eventKey:u[L].registros_id,children:[Object(d.jsx)(b.a,{color:"lightgray"})," ",J.toString().padStart(2,0),":00"]})}),Object(d.jsx)(r.a.Collapse,{eventKey:u[L].registros_id,children:Object(d.jsx)(s.a.Body,{children:I})})]})},u[L].registros_id)),J++}}else z.push(Object(d.jsx)("p",{children:"No hay datos para este d\xeda"}));return Object(d.jsx)("div",{className:"container mb-10",children:Object(d.jsxs)(i.a,{className:"mb-5",children:[Object(d.jsx)(o.a,{sm:12,lg:6,children:Object(d.jsxs)("div",{children:[Object(d.jsx)(l.a,{className:"btn btn-light mb-4 mt-4",block:!0,onClick:N,children:"Descargar datos del mes"}),Object(d.jsxs)(i.a,{className:"mb-4",children:[Object(d.jsx)(o.a,{sm:6,children:Object(d.jsx)(O.a,{options:x,placeholder:"Mes",onChange:function(e){return P(e.value)},defaultValue:x[(new Date).getMonth()]})}),Object(d.jsx)(o.a,{sm:6,children:Object(d.jsx)(O.a,{options:g,placeholder:"A\xf1o",onChange:function(e){return T(e.value)},defaultValue:g[g.length-1]})})]}),Object(d.jsxs)("div",{className:"detalles",children:[Object(d.jsxs)("h4",{children:[D&&D.format("DD/MM/YYYY")," Detalle por hora"]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{sm:6,children:z}),Object(d.jsx)(o.a,{sm:6,children:B})]})]})]})}),Object(d.jsx)(o.a,{sm:12,lg:6,className:"d-flex align-items-start justify-content-center",children:Object(d.jsx)(j,{value:D,onChange:k})})]})})}},86:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return c})),t.d(a,"c",(function(){return r}));var n={"Aire y Salud":{PM10:[50,75,155,235],PM25:[25,45,78,147],O3:[.051,.095,.135,.175],CO:[8.75,11,13.3,15.5],SO2:[.008,.11,.165,.22],NO2:[.107,.21,.23,.25]},NOM:{PM10:[100,135,214,300],PM25:[55,75,97.4,128.8],O3:[.07,.093,.115,.137],CO:[12,13.9,15.9,18.9],SO2:[.253,.345,.435,.566],NO2:[.132,.176,.221,.289]}},c=["buena","acept","mala","muy","ext"],r=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Aire y Salud",c=n[t][e],r=c.length-1;r>=0;r--)if(a>c[r])return parseInt(r)+1;return 0}}}]);
//# sourceMappingURL=9.aab1a3ff.chunk.js.map