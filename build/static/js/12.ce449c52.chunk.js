(this.webpackJsonpcei=this.webpackJsonpcei||[]).push([[12],{141:function(e,t,a){"use strict";a.r(t);var n=a(83),r=a(33),o=a(0),c=a(128),i=a.n(c),u=a(82),l=a(86),s=a(3);t.default=function(e){var t=e.q,a=e.fecha,c=e.ubic,d=e.ind,f=Object(o.useState)(null),b=Object(r.a)(f,2),h=b[0],m=b[1],p=Object(o.useState)(null),O=Object(r.a)(p,2),S=O[0],y=O[1],j=Object(o.useRef)(null),g=Object(o.useRef)(h),v="";Object(o.useEffect)((function(){a&&(h&&h.isSame(a.clone().startOf("month"))||(g.current=h,m(a.clone().startOf("month"))))}),[a]),Object(o.useEffect)((function(){var e="";t&&(e=t.substring(0,t.indexOf("&inicio"))),j.current&&j.current===e&&g.current==h||(j.current!==t&&(j.current=e),g.current!=h&&(g.current=h),c&&h&&(v="ubic=",v+=c.value,v+="&ind="+d+"&inicio="+h.clone().format("YYYY-MM-DD")+"&fin="+h.clone().endOf("month").format("YYYY-MM-DD"),fetch("".concat(u.a,"/prom-data?").concat(v)).then((function(e){return e.json()})).then((function(e){return y(e)})).catch((function(e){return console.log(e)}))))}),[t,h]);var x={},A=[];if(t&&S&&S.length>0){for(var F=0,M={},D=S[F].zona,w=new Date(S[F].fecha.replace(/-/g,"/").replace(/T.+/,"")),Y=1,P={name:D,data:[]};w.getDate()!==Y;)M.x=Y,M.y=-1,P.data.push(Object(n.a)({},M)),Y++;for(;F<S.length&&S[F].zona===D;)M.x=Y,Y===parseInt(S[F].fecha.substring(8))?(""!==S[F].prom?(M.y=S[F].prom,M.fecha=S[F].fecha):M.y=-1,F++):M.y=-1,P.data.push(Object(n.a)({},M)),Y++;A.push(Object(n.a)({},P)),x={chart:{type:"heatmap",toolbar:{show:!1}},plotOptions:{heatmap:{enableShades:!1,radius:1,useFillColorAsStroke:!1,colorScale:{ranges:[{from:-2,to:0,name:"No data",color:"#D3D3D3"},{from:0,to:l.b["Aire y Salud"][d][0],name:"Buena",color:"#00E400"},{from:l.b["Aire y Salud"][d][0],to:l.b["Aire y Salud"][d][1],name:"Aceptable",color:"#FFFF00"},{from:l.b["Aire y Salud"][d][1],to:l.b["Aire y Salud"][d][2],name:"Mala",color:"#FF7E00"},{from:l.b["Aire y Salud"][d][2],to:l.b["Aire y Salud"][d][3],name:"Muy mala",color:"#FF0000"},{from:l.b["Aire y Salud"][d][3],to:1.5*l.b["Aire y Salud"][d][3],name:"Extremadamente mala",color:"#8F3F97"}]}}},dataLabels:{enabled:!1},stroke:{width:1},xaxis:{position:"bottom"},legend:{position:"top",showForSingleSeries:!0},tooltip:{custom:function(e){var t=e.series,a=e.seriesIndex,n=e.dataPointIndex,r=e.w;return-1!==t[a][n]?'<div class="arrow_box hmTooltip"><p>'+r.globals.initialSeries[a].data[n].fecha+"</p><p><b>"+t[a][n].toFixed(4)+" "+u.h[d]+"</b></p></div>":'<div style="display:none;">'}}}}return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{className:"mb-5",children:"Promedios diarios del mes"}),t&&Object(s.jsx)(i.a,{options:x,series:A,type:"heatmap",height:100*A.length})]})}},86:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o}));var n={"Aire y Salud":{PM10:[50,75,155,235],PM25:[25,45,78,147],O3:[.051,.095,.135,.175],CO:[8.75,11,13.3,15.5],SO2:[.008,.11,.165,.22],NO2:[.107,.21,.23,.25]},NOM:{PM10:[100,135,214,300],PM25:[55,75,97.4,128.8],O3:[.07,.093,.115,.137],CO:[12,13.9,15.9,18.9],SO2:[.253,.345,.435,.566],NO2:[.132,.176,.221,.289]}},r=["buena","acept","mala","muy","ext"],o=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Aire y Salud",r=n[a][e],o=r.length-1;o>=0;o--)if(t>r[o])return parseInt(o)+1;return 0}}}]);
//# sourceMappingURL=12.ce449c52.chunk.js.map