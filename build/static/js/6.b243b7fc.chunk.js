(this.webpackJsonpcei=this.webpackJsonpcei||[]).push([[6],{148:function(e,t,a){"use strict";a.r(t);var o=a(10),n=a(8),r=a(0),c=a(145),i=a.n(c),s=a(9),l=a(46),u=a(2);t.default=function(e){var t=e.q,a=e.fecha,c=e.ubic,d=e.ind,b=Object(r.useState)(null),f=Object(n.a)(b,2),h=f[0],m=f[1],p=Object(r.useState)(null),O=Object(n.a)(p,2),j=O[0],y=O[1],S=Object(r.useRef)(null),g=Object(r.useRef)(h),x="";Object(r.useEffect)((function(){a&&(h&&h.isSame(a.clone().startOf("month"))||(g.current=h,m(a.clone().startOf("month"))))}),[a]),Object(r.useEffect)((function(){var e="";t&&(e=t.substring(0,t.indexOf("&inicio"))),S.current&&S.current===e&&g.current==h||(S.current!==t&&(S.current=e),g.current!=h&&(g.current=h),c&&h&&(x="ubic=",x+=c.value,x+="&ind="+d+"&inicio="+h.clone().format("YYYY-MM-DD")+"&fin="+h.clone().endOf("month").format("YYYY-MM-DD"),fetch("".concat(s.a,"/prom-data?").concat(x)).then((function(e){return e.json()})).then((function(e){return y(e)})).catch((function(e){return console.log(e)}))))}),[t,h]);var F={},v=[];if(t&&j&&j.length>0){for(var A=0,D={},w=j[A].zona,Y=new Date(j[A].fecha.replace(/-/g,"/").replace(/T.+/,"")),M=1,E={name:w,data:[]};Y.getDate()!==M;)D.x=M,D.y=-1,E.data.push(Object(o.a)({},D)),M++;for(;A<j.length&&j[A].zona===w;)D.x=M,M===parseInt(j[A].fecha.substring(8))?(""!==j[A].prom?(D.y=j[A].prom,D.fecha=j[A].fecha):D.y=-1,A++):D.y=-1,E.data.push(Object(o.a)({},D)),M++;v.push(Object(o.a)({},E)),F={chart:{type:"heatmap",toolbar:{show:!1}},plotOptions:{heatmap:{enableShades:!1,radius:1,useFillColorAsStroke:!1,colorScale:{ranges:[{from:-2,to:0,name:"No data",color:"#D3D3D3"},{from:0,to:l.b["Aire y Salud"][d][0],name:"Buena",color:"#00E400"},{from:l.b["Aire y Salud"][d][0],to:l.b["Aire y Salud"][d][1],name:"Aceptable",color:"#FFFF00"},{from:l.b["Aire y Salud"][d][1],to:l.b["Aire y Salud"][d][2],name:"Mala",color:"#FF7E00"},{from:l.b["Aire y Salud"][d][2],to:l.b["Aire y Salud"][d][3],name:"Muy mala",color:"#FF0000"},{from:l.b["Aire y Salud"][d][3],to:1.5*l.b["Aire y Salud"][d][3],name:"Extremadamente mala",color:"#8F3F97"}]}}},dataLabels:{enabled:!1},stroke:{width:1},xaxis:{position:"bottom"},legend:{position:"top",showForSingleSeries:!0},tooltip:{custom:function(e){var t=e.series,a=e.seriesIndex,o=e.dataPointIndex,n=e.w;return-1!==t[a][o]?'<div class="arrow_box hmTooltip"><p>'+n.globals.initialSeries[a].data[o].fecha+"</p><p><b>"+t[a][o].toFixed(4)+" "+s.h[d]+"</b></p></div>":'<div style="display:none;">'}}}}return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"mb-5",children:"Promedios diarios del mes"}),t&&Object(u.jsx)(i.a,{options:F,series:v,type:"heatmap",height:100*v.length})]})}}}]);
//# sourceMappingURL=6.b243b7fc.chunk.js.map