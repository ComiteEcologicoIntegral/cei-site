(this.webpackJsonpcei=this.webpackJsonpcei||[]).push([[4],{143:function(e,a,t){},152:function(e,a,t){"use strict";t.r(a);var n=t(8),c=t(0),s=(t(143),t(151)),r=t(153),l=t(83),i=t(127),o=t(82);var d=t(150),j=t(2),u=function(e){var a=e.value,t=e.onChange,s=Object(c.useState)([]),r=Object(n.a)(s,2),l=r[0],u=r[1];function b(e){return e.isAfter(new Date,"day")}function h(e){return function(e){return a.isSame(e,"day")}(e)?"selected":function(e){return e.isSame(new Date,"day")}(e)?"today":b(e)?"after":function(e){return e.isSame(a,"month")}(e)?"":"month"}function m(){return a.clone().subtract(1,"month")}function O(){return a.clone().endOf("month").add(1,"day")}function f(){return a.isSame(new Date,"month")}function v(){return a.isSame(new Date("01-01-2018"),"month")}return Object(c.useEffect)((function(){u(function(e){for(var a=e.clone().startOf("month").startOf("isoWeek"),t=e.clone().endOf("month").endOf("isoWeek").subtract(1,"day"),n=a.clone().subtract(2,"day"),c=[];n.isBefore(t,"day");)c.push(Array(7).fill(0).map((function(){return n.add(1,"day").clone()})));return c}(a))}),[a]),Object(j.jsxs)("div",{className:"calendar mt-5",children:[Object(j.jsx)("div",{className:"cal-header",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(o.a,{sm:3,className:"previous",onClick:function(){return!v()&&t(m)},children:v()?null:String.fromCharCode(171)}),Object(j.jsxs)(o.a,{sm:6,className:"current",children:[a.format("MMM"),", ",a.format("YYYY")]}),Object(j.jsx)(o.a,{sm:3,className:"next",onClick:function(){return!f()&&t(O)},children:f()?null:String.fromCharCode(187)})]})}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["D","L","M","M","J","V","S"].map((function(e,a){return Object(j.jsx)("div",{className:"weekday",children:e},a)}))}),l.map((function(e,a){return Object(j.jsx)("div",{children:e.map((function(e,a){return Object(j.jsx)("div",{className:"day",onClick:function(){return!b(e)&&t(e)},children:Object(j.jsx)("div",{className:h(e),children:e.format("D")},Object(d.a)())})}))},a)}))]})]})},b=t(144),h=t(46),m=t(21),O=t(11),f=t.n(O);t(73);f.a.locale("es");var v={PM25:"\xb5g/m3",PM10:"\xb5g/m3",CO:"ppm",O3:"ppm",NO2:"ppm",SO2:"ppm"},x=[{value:"1",label:"enero"},{value:"2",label:"febrero"},{value:"3",label:"marzo"},{value:"4",label:"abril"},{value:"5",label:"mayo"},{value:"6",label:"junio"},{value:"7",label:"julio"},{value:"8",label:"agosto"},{value:"9",label:"septiembre"},{value:"10",label:"octubre"},{value:"11",label:"noviembre"},{value:"12",label:"diciembre"}],g=[{value:"2018",label:"2018"},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"}];a.default=function(e){var a=e.q,t=e.create,d=e.data,O=e.indi,p=e.setDesde,y=e.setHasta,N=e.downloadFile;function S(e){switch(Object(h.c)(O,e)){case 0:return"bueno";case 1:return"acept";case 2:return"mala";case 3:return"muymala";case 4:return"extmala";default:return"no-data"}}var D=Object(c.useState)(f()()),C=Object(n.a)(D,2),k=C[0],w=C[1];Object(c.useEffect)((function(){p(k),y(k)}),[]);var M=Object(c.useState)((new Date).getMonth()+1),Y=Object(n.a)(M,2),_=Y[0],E=Y[1],K=Object(c.useState)(g[g.length-1].value),T=Object(n.a)(K,2),z=T[0],A=T[1];Object(c.useEffect)((function(){p(k),y(k),(d||a)&&t(k,k)}),[k]),Object(c.useEffect)((function(){var e=new Date("".concat(_,"/").concat(k.clone().format("DD"),"/").concat(z));w(f()(e))}),[_,z]);var B=[],H=[],J=0,V=0;if(d&&0!==d.length){for(;V<12&&J<d.length;){for(var P="T"+V.toString().padStart(2,0)+":",W=[],q=J;J<d.length&&d[J].dia.includes(P);)W.push(Object(j.jsxs)("p",{children:[Object(j.jsx)(b.b,{className:S(d[J][O])}),d[J].zona,": ",d[J][O]?" ".concat(d[J][O]," ").concat(v[O]):" No hay registro"]})),J++;B.push(Object(j.jsx)(s.a,{id:d[q].registros_id,children:Object(j.jsxs)(r.a,{children:[Object(j.jsx)(r.a.Header,{children:Object(j.jsxs)(s.a.Toggle,{as:l.a,className:"hora",variant:"link",eventKey:d[q].registros_id,children:[Object(j.jsx)(b.a,{color:"lightgray"})," ",V.toString().padStart(2,0),":00"]})}),Object(j.jsx)(s.a.Collapse,{eventKey:d[q].registros_id,children:Object(j.jsx)(r.a.Body,{children:W})})]})},d[q].registros_id)),V++}for(;V<24&&J<d.length;){for(var F="T"+V.toString().padStart(2,0),L=[],G=J;J<d.length&&d[J].dia.includes(F);)L.push(Object(j.jsxs)("p",{children:[Object(j.jsx)(b.b,{className:S(d[J][O])})," ",d[J].zona,": ",d[J][O]?"".concat(d[J][O]," ").concat(v[O]):"No hay registro"]})),J++;H.push(Object(j.jsx)(s.a,{id:d[G].registros_id,children:Object(j.jsxs)(r.a,{children:[Object(j.jsx)(r.a.Header,{children:Object(j.jsxs)(s.a.Toggle,{as:l.a,className:"hora",variant:"link",eventKey:d[G].registros_id,children:[Object(j.jsx)(b.a,{color:"lightgray"})," ",V.toString().padStart(2,0),":00"]})}),Object(j.jsx)(s.a.Collapse,{eventKey:d[G].registros_id,children:Object(j.jsx)(r.a.Body,{children:L})})]})},d[G].registros_id)),V++}}else B.push(Object(j.jsx)("p",{children:"No hay datos para este d\xeda"}));return Object(j.jsx)("div",{className:"container mb-10",children:Object(j.jsxs)(i.a,{className:"mb-5",children:[Object(j.jsx)(o.a,{sm:12,lg:6,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(l.a,{className:"btn btn-light mb-4 mt-4",block:!0,onClick:N,children:"Descargar datos del mes"}),Object(j.jsxs)(i.a,{className:"mb-4",children:[Object(j.jsx)(o.a,{sm:6,children:Object(j.jsx)(m.a,{options:x,placeholder:"Mes",onChange:function(e){return E(e.value)},defaultValue:x[(new Date).getMonth()]})}),Object(j.jsx)(o.a,{sm:6,children:Object(j.jsx)(m.a,{options:g,placeholder:"A\xf1o",onChange:function(e){return A(e.value)},defaultValue:g[g.length-1]})})]}),Object(j.jsxs)("div",{className:"detalles",children:[Object(j.jsxs)("h4",{children:[k&&k.format("DD/MM/YYYY")," Detalle por hora"]}),Object(j.jsxs)(i.a,{children:[Object(j.jsx)(o.a,{sm:6,children:B}),Object(j.jsx)(o.a,{sm:6,children:H})]})]})]})}),Object(j.jsx)(o.a,{sm:12,lg:6,className:"d-flex align-items-start justify-content-center",children:Object(j.jsx)(u,{value:k,onChange:w})})]})})}}}]);
//# sourceMappingURL=4.8dd62699.chunk.js.map